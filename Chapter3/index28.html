<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Chapter 7</title>
	<script type="text/javascript" src="../js/jquery.min.js"></script>
    <script>
    var cache = [];
    $(function(){
    	$('.getPeople').click(function() {
    		if (cache.length == 0) {
    			$.ajax({
    				url: 'request-2.php',
    				type: 'GET',
    				async: false
    			}).done(function(data){
    				cache = data;
    			});
    		}
    		$('#peopleList').empty();
    		$.each(cache, function(key, value) {
    			$('#peopleList').append("<li>#") + key + " " + value.firstname + " " + value.lastname + "</li>";
    		});
    	});
    });
    </script>
</head>
<body>
	<ul id="peopleList"></ul>
	<button class="getPeople">Get People</button>
</body>
</html>
